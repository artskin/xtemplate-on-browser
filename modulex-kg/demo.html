<script src="..//bower_components/modulex/build/modulex-debug.js"></script>
<script>
    var KISSY = {};

    (function () {
        var S = KISSY;

        function wrap(fn) {
            function wrapped() {
                var args = slice.call(arguments, 0);
                args.unshift(S);
                return fn.apply(this, args);
            }

            wrapped.toString = function () {
                return fn.toString();
            };
            return wrapped;
        }

        var slice = [].slice;
        KISSY.add = function () {
            var args = slice.call(arguments, 0);
            for (var i = 0, l = args.length; i < l; i++) {
                if (typeof args[i] === 'function') {
                    args[i] = wrap(args[i]);
                }
            }
            modulex.add.apply(this, args);
        };
        modulex.config({
            packages: {
                kg: {
                    base: 'http://g.assets.daily.taobao.net/kg'
                },
                xtpl: {
                    base: './build'
                }
            }
        });
        modulex.use('xtpl/a-render', function (aRender) {
            aRender({
                x: 1,
                y: 2
            },function(err,content){
                console.log(content);
            });
        });
    })();
</script>